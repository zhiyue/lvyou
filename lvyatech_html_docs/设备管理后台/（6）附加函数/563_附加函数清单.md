# 附加函数清单

---
- **页面ID**: 563
- **作者ID**: 1
- **创建时间**: 2025-07-14 21:47:32
- **分类ID**: 179
---

####系统所支持的附加函数清单

 | 函数名  | 函数说明 | 参数 | 函数示例   |
 | --- |---|---|---------------------|
 | $replace() | 文本替换 | 以偶数配对出现 |示例：<BR><div style="width: 250pt"> {{devId&#124;$replace('a', 'A', 'bcd', 'BCD')}} </div>  说明：<BR>   对devId中的值，进行文本替换，将小写a全部替换成大写A，同时，将bcd全部替换成BCD。|
 |$substr()|字符串截取| 2个。<BR>截取字符串的<BR>起始位置(从1开始）<BR>与结束位置| 示例：<BR>{{devId&#124;$substr('1', '3')}} <BR>说明：<BR>从第1个字符之后，取到第3个字符(含)。例如：devId的值假设是 abcdef，则substr(1,3)的最终结果是：bc。|
 |$concat()|字符串拼接| 多个。<BR>将函数参数中的<BR>多个字符串与<BR>引用参数进行拼接| 示例：<BR>{{devId&#124;$concat('-', '{{ip}}')}} <BR>说明：<BR>将devId的值与横线符及当前IP进行拼接。<BR>例如：devId的值假设是 abcdef，则$concat('-', '{{ip}}')的最终结果是：<BR>abcdef-192.168.1.12|
  | $md5() | 计算md5值<BR>（小写） | 0或1个。默认取32字节的MD5 <BR> HEX字符串，也可以指定其它长度，<BR>但必须是偶数。 | 示例：<BR>{{devId&#124;$md5('16')}} <BR>说明：<BR>取devId值的16字节长的HEX字符串。|
  | $sha256() | 计算SHA-256值<BR>（大写） | 无 | 示例：<BR>{{devId&#124;$sha256()}} <BR>说明：<BR>取devId的SHA-256的Hash值的HEX字符串（64字节）。|
  | $toUpper() | 取字符串大写值 | 无 | 示例：<BR>{{devId&#124;$toUpper()}} <BR>说明：<BR>取对应字符串，大写之后的值|
   | $toLower() | 取字符串小写值 | 无 | 示例：<BR>{{devId&#124;$toLower()}} <BR>说明：<BR>取对应字符串，小写之后的值|
   | $jsonEscape()| 对json串中的字符<BR>进行转义，确保<BR>结果符合json格式| 无  | 示例：<BR>{{smsBd&#124;$jsonEscape()}} <BR>说明：<BR>有一些特殊字符是不允许出现在json串中的，比如双引号、换行符等等。可通过jsonEscape()对字符串进行json转义处理，使其符合json规范。|
 | $aesBase64() | 对字符串进行<BR>AES加密，返回标准的<BR>base64字符串。 | 无 | 示例：<BR>{{devId&#124;$aes()}} <BR>说明：<BR>对字符串进行加密，并获取加密后的值。注意：aes加密所使用到的Key/IV等参数，以及加密算法，请通过开发板后台--“密码管理”功能中进行设置。|
 | $aesBase64Url() | 对字符串进行<BR>AES加密，返回可用于<BR>http传输的标准Base64<BR>字符串。<BR>**（推荐使用）** | 无 | 示例：<BR>{{devId&#124;$aes()}} <BR>说明：<BR>对字符串进行加密，并获取加密后的值。注意：aes加密所使用到的Key/IV等参数，以及加密算法，请通过开发板后台--“密码管理”功能中进行设置。|
 | $defaultIfEmpty() | 如果引用变量的长度是0，<BR>则返回参数指定的值，<BR>否则返回变量值。 | 1个。如果引用变量长度是0，则返回参数中的字符串。 | 示例：<BR>{{phNum&#124;$ifEmpty('隐藏号码')}} <BR>说明：<BR>如果所引用的变量长度是0，则返回参数中的字符串。示例中，如果来电号码为空，则显示“隐藏号码”字样。|
 | $defaultIfBlank() | 如果引用变量是空白串，<BR>则返回参数指定值，<BR>否则返回变量值 | 1个。如果字符串判空成立，则返回参数中的字符串，否则返回引用的变量值。 | 示例：<BR>{{smsBd&#124;$ifEmpty('无短信内容')}} <BR>说明：<BR>如果所引用的变量是空串（字符串长度是0，或字符串全部是空格），则返回参数中的字符串。示例中，如果短信内容为空（无内容或内容都是空格），则显示“无短信内容”字样。|
 | $nothingIfEmpty() | 如果引用的变量长度是0，<BR>则返回参数指定的值，<BR>否则返回空 | 1个。如果引用变量长度是0，则返回参数中的字符串，否则返回空。 | $defaultIfNotEmpty()的反函数。|
 | $nothingIfBlank() | 如果引用的变量是空白串，<BR>则返回参数指定的值，<BR>否则返回空 | 1个。如果引用变量是空白串，则返回参数中的字符串，否则返回空。 | $defaultIfNotBlank()的反函数。 |
 | $nothingIfNotEmpty() | 如果引用变量的长度**不是**0，<BR>则返回参数指定的值，<BR>否则返回空。 | 1个。如果引用变量长度不是0，则返回参数中的字符串。 | |
 | $nothingIfNotBlank() | 如果引用变量是**非**空白串，<BR>则返回参数指定的值，<BR>否则返回空。 | 1个。如果字符串判非空成立，则返回参数中的字符串，否则返回空。 | |
 | $trim() | 对字符串<BR>前后空格<BR>进行剔除 | 无 | 示例：<BR>{{smsBd&#124;$trim()}} <BR>说明：<BR>剔除掉字符串中的前后空格（如有）。|
 | $urlEncode() | 对引用的变量值<BR>进行URL Encode编码 | 无 | 示例：<BR>{{smsBd&#124;$urlEncode()}} <BR>说明：<BR>将短信内容进行URL Encode编码。|
 | $urlDecode() | 对引用的变量值<BR>进行URL Decode解码 | 无 | 示例：<BR>{{smsBd&#124;$urlDecode()}} <BR>说明：<BR>将短信内容进行URL Decode解码。|
 | $ts2yyyymmdd() | 对引用的时间戳变量<BR>格式化为年月日格式 | 1个。<BR>年月日中间的分隔字符 | 示例：<BR>{{smsTs&#124;$ts2yyyymmdd('-')}} <BR>说明：<BR>将短信时间戳格式为：YYYY-MM-DD格式。|
 | $ts2yymmdd() | 对引用的时间戳变量<BR>格式化为年月日格式 | 1个。<BR>年月日中间的分隔字符 | 示例：<BR>{{smsTs&#124;$ts2yymmdd('-')}} <BR>说明：<BR>将短信时间戳格式为：YY-MM-DD格式。|
 | $ts2yyyymmddhhmmss() | 对引用的时间戳变量<BR>格式化为年月日时分秒格式 | 2个。<BR>参数1：年月日中间的分隔符；参数2：时分秒中间的分隔符 | 示例：<BR>{{smsTs&#124;$ts2yyyymmddhhmmss('-', ':')}} <BR>说明：<BR>将短信时间戳格式为：YYYY-MM-DD HH:MM:SS 格式。|
 | $ts2yymmddhhmmss() | 对引用的时间戳变量<BR>格式化为年月日时分秒格式 | 2个。<BR>参数1：年月日中间的分隔符；参数2：时分秒中间的分隔符 | 示例：<BR>{{smsTs&#124;$ts2yymmddhhmmss('-', ':')}} <BR>说明：<BR>将短信时间戳格式为：YY-MM-DD HH:MM:SS 格式。|
 | $ts2hhmmss() | 对引用的时间戳变量<BR>格式化为时分秒格式 | 1个。<BR>时分秒中间的分隔符 | 示例：<BR>{{smsTs&#124;$ts2hhmmss(':')}} <BR>说明：<BR>将短信时间戳格式为：HH:MM:SS 格式。|
  | $iifeq() | 匹配参数1的值，转为输出参数2 | 偶数个 | 示例：<BR>{{slot&#124;$iifeq('1', '卡一', '2', '卡二')}} <BR>说明：<BR>将slot值的1,2 转为中文。|





