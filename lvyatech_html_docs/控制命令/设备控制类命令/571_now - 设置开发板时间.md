# now - 设置开发板时间

---
- **页面ID**: 571
- **作者ID**: 1
- **创建时间**: 2025-05-15 19:14:25
- **分类ID**: 182
---

###“命令：now  - 为开发板设置时间”使用说明
####命令的作用
　　使用now命令，可以为开发板设置当前时间。

　　为开发板设置时间，一般有二种途径：
  
　　1、接口端向开发板发出“now”命令，并在“p1”参数中携带当前时间。开发板收到接口下发的时间后，会立即以“p1”参数中的时间，重新校准自身的时间。
  
　　2、如果接口下发的“now”命令中，没有携带“p1”参数时，由根据开发板的默认设置，开发板如果已经连入WIFI，则会通过WIFi向NTP服务器（全球时间校准服务器）请求当前时间。如果开发板未连入WIFI，则开发板会通过通讯模组向运营商请求当前时间。
  
　　注意：开发板默认当前时区为北京时间（+8时区），如需更改时区，可在“now”中指定“p3”参数，以对开发板的时区进行校准。
  
####命令的格式（示例）
```
http://192.168.7.170/ctrl?token=3f4bffa77257d243875d0a5a80635934&cmd=now&p1=20221015103005&p2=15&p3=8
```
####命令的格式（TCP方式示例）
```
{"cmd":"now", "p1":"20221015103005", "p2":15, "p3":8, "tid":"1234"}\x11\x12
```
####命令参数说明
 | 参数名  | 参数值（示例）  |参数类型|说明|
| ------------ |:------------ |-----|--|
|token |3f4bffa77257d243875d0a5a80635934 |字符型|管理员Token|
|cmd  | now |字符型|控制命令名称|
|p1  | 20221015103005 |字符型|当前时间。格式：年年年年月月日日时时分分秒秒（省略时由开发板自动获取时间）|
|p2| 15 |数值型|是否允许开发板自动校准时间。0：不允许自动校时；15：允许自动校时（默认）；（一般无需给出p2参数）
|p3| 8 |数值型|当前时区。8：中国时区（默认）；（中国使用时，无需给出p3参数）
|tid   | 任意值 |字符型|仅TCP接口方式可用。可为任意值，但不可省略|
####命令反馈结果
成功时返回：
无

失败时返回：
```
{
  "code": 101,
  "msg": "Invalid arguments."
}
```

####命令反馈结果说明
无





