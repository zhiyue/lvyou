# telkeypress - 本地电话按键

---
- **页面ID**: 638
- **作者ID**: 1
- **创建时间**: 2025-07-24 14:16:45
- **分类ID**: 186
---

###“命令:telkeypress - 默认本机电话按键”使用说明
####命令的作用
　　使用 telkeypress 命令，可以模拟本机的电话按键。
　　比如当您控制开发板拨打10086时，对方语音提示：按1查余额，按2查账单。此时，您可以控制开发板发送本机按键 1 或 2，进入10086语音导航的其它环节。
>注意：
　　（1）有效的按键包括：0-9, A, B, C, D, *, #
　　（2）多个按键序列之间，可以插入暂停符。暂停符一共有4个，分别是：p、 P、 m、 M
　　　　p (小写）表示：暂停1000毫秒（1秒）；
　　　　P (大写）表示：暂停5000毫秒（5秒）；
　　　　m (小写) 表示：暂停100毫秒（0.1秒）；
　　　　M (大写) 表示：暂停500毫秒（0.5秒）；
　　　　比如发送按键序列：http:// ... cmd=telkeypress&p1=1&p2=13255668899P1pp2mM3
　　　　表示控制开发板向对方发送以下按键：
　　　　　按键：13255668899
　　　　　　（1个P，暂停5秒后）
　　　　　按键：1
　　　　　　（2个p，暂停2秒后）
　　　　　按键：2
　　　　　　（mM两个暂停符，暂停0.6秒后）
　　　　　按键：3

####命令的格式（示例）
```
http://192.168.7.170/ctrl?token=3f4bffa77257d243875d0a5a80635934&cmd=telkeypress&p1=1&p2=1
```
####命令的格式（TCP方式示例）
```
{"cmd":"telkeypress", "p1":1, "p2":"1", "tid":"1234"}\x11\x12
```
####命令参数说明
 | 参数名  | 参数值（示例）  |参数类型|说明|
| ------------ |:------------ |-----|--|
|token |3f4bffa77257d243875d0a5a80635934 |字符型|管理员Token|
|cmd  | telkeypress |字符型|控制命令名称|
|p1 |1 |数值型|拨号的卡槽号。（1：卡一；2：卡二）|
|p2 | 1 | 字符型 | 模拟本地按键的按键序列（可以是多个字符） |
|p3 | 200 | 数值型 | 按键音时长（毫秒）。默认值：200毫秒|
|p4 | 100 | 数值型 | 多个按键音之间间隔毫秒数。默认值：100毫秒 |
|tid (可选)  | 任意值 |字符型|仅TCP接口方式可用。如省略，则命令执行后，不反馈命令执行结果。|
####命令反馈结果
成功时返回：
```
{
  "code": 0
}
```

失败时返回：
```
{
  "code": 101,
  "msg": "Invalid arguments."
}
```

####命令反馈结果说明
无


