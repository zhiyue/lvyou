# 998 - 设备PING消息

---
- **页面ID**: 612
- **作者ID**: 1
- **创建时间**: 2025-05-15 21:48:05
- **分类ID**: 192
---

###“消息：998 - 设备PING消息” 使用说明

####消息的作用
开发板正确连入WIFI之后，根据用户在WEB管理页面的设置，开发板可以在规定的时间（默认为110秒），循环向您的接口推送998消息。998推送消息一般有两个用途：
1、您的接口可以基于此判断开发板是否处于正常的开机状态。
2、在TCP Server的方式下，维持网络连接，避免因长时间无通信导致TCP连接中断。实际上，在TCP Server的方式下，998消息总是会被定时的推送到您的接口上。

>【提示】:
　　一般而言，接口端如果需要判断开发板是否“在线”，主要有两种方式：
　　1）假设开发板每60秒向接口上报一次PING消息，一般来说，接口端如果连续3次（相当于60秒*3+15秒缓冲时间=195秒），都没有按时收到开发板上报的PING消息，就可以判定开发板已经“离线”了。
　　这种判断方法，以接口端“被动”接收PING消息，来判断开发板是否“在线”。
　　2）TCP接口模式中，接口也可以“主动”向开发板发送 stat 请求`{"cmd":"stat", "tid":123}`，开发板在收到接口的请求后，会主动上报开发板的状态信息。这样，也可以判断开发板是否“在线”。
　　当然，也可以将方法（1）、方法（2）组合起来，更有效的判断开发板是否“在线”。

－
####消息参数说明
 | 参数名  | 参数值（示例）  |参数类型|说明|
| ------------ |:------------ |-----|--|
|devId |498060912345 |字符型|开发板唯一ID|
|type |998|数值型|消息ID|
|netCh  | 0 |数值型|本消息由开发板的哪个网络通道推送。0:WIFI; 1:SIM1; 2:SIM2|
|cnt |1|数值型|PING消息中的自增字段，每上报一次数值自动加 1。|
　
####消息内容（FORM)
FORM格式时，开发板自动模拟的HTML表单提交，将数据推送到您的接口。
模拟样式如下：
```
<form>
	<input name="devId" value="498060912345">
	<input name="type" value="998">
	<input name="netCh" value="0">
	<input name="cnt" value="1">
</form>
```
　
####消息内容（JSON)
JSON格式时，开发板向您的接口推送的JSON样式如下：
 ``` 
 {
  "devId": "498060912345",
  "type": 998,
  "netCh": 0,
  "cnt": 1
} 

 ```


